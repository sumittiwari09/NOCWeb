@using NewZapures_V2.Models
@{
    ViewBag.Title = "Edit Application";
    Layout = "~/Views/Shared/_Layout.cshtml";

    var draftAppl = (TrusteeBO.DraftApplication)ViewBag.applicationDetails;

    var trusteeMember = (List<TrusteeBO.TrusteeMember>)ViewBag.trusteeMember;
}

@*<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" />*@

@*<link href="~/Content/select2/css/select2.css" rel="stylesheet" />*@

<style type="text/css">
    .dropify-wrapper {
        display: block;
        position: relative;
        cursor: pointer;
        overflow: hidden;
        width: 100%;
        max-width: 100%;
        height: 138px;
        padding: 5px 10px;
        font-size: 14px;
        line-height: 22px;
        color: #777;
        background-color: #FFF;
        background-image: none;
        text-align: center;
        border: 2px solid #E5E5E5;
        -webkit-transition: border-color .15s linear;
        transition: border-color .15s linear;
    }

    .applicationBtn {
        width: 20em;
        text-align: start;
        display: flex;
        align-items: center;
    }

    ul li {
        list-style: none;
        margin-bottom: 10px
    }

        ul li button i {
            font-size: 20px;
        }

    .table thead {
        background-color: #646d91 !important;
    }

        .table thead > tr > th {
            color: white
        }


    .fsc {
        background: #6441A5;
        background: -webkit-linear-gradient(to left, #2a0845, #6441A5);
        background: linear-gradient(to left, #506ee4, #5b3a96);
        border-radius: 12px;
    }

        .fsc h4 {
            color: white !important;
        }

    .fsi {
        background: #6441A5;
        background: -webkit-linear-gradient(to right, #2a0845, #6441A5);
        background: linear-gradient(to right, #506ee4, #5b3a96);
        border-radius: 12px;
    }

        .fsi h4 {
            color: white !important;
        }

    .fop {
        background: #B993D6; /* fallback for old browsers */
        background: -webkit-linear-gradient(to left, #8CA6DB, #B993D6); /* Chrome 10-25, Safari 5.1-6 */
        background: linear-gradient(to left, #8CA6DB, #B993D6); /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */
        border-radius: 12px;
    }

        .fop h4 {
            color: white !important;
        }
</style>
<div class="row">
    <div class="col-sm-12">
        <div class="page-title-box">
            <div class="float-right">
                <ol class="breadcrumb">
                    <li class="breadcrumb-item">NOC</li>
                    <li class="breadcrumb-item">Master</li>
                    <li class="breadcrumb-item active">Edit Application</li>
                </ol>
            </div>
            @*<h4 class="page-title">@ViewBag.Title</h4>*@
        </div><!--end page-title-box-->
    </div><!--end col-->
</div>

<div class="card">
    <div class="card-header fsc" style="display: flex !important; align-items: baseline !important; place-content: space-between !important;">
        <h4 class="mt-0 header-title float-left">Edit Application Details</h4>
        <a href="@Url.Action("DraftApplication","Trustee")" class="btn btn-sm btn-gradient-dark"><i class="fa fa-arrow-left"></i> Back To Draft Application</a>
    </div>
    <div class="card-body ">
        <div class="row">
            <table class="table table-bordered table-striped">
                <tr>
                    <th style="color:black!important;font-weight:500">Application Number :</th>
                    <td>@draftAppl.ApplicationNumber</td>
                    <th style="color:black!important;font-weight:500">Trust Name</th>
                    <td>@draftAppl.TrustName</td>
                    <th style="color:black!important;font-weight:500">Department Name</th>
                    <td>@draftAppl.DepartmentName</td>
                </tr>
                <tr><td colspan="6" style="background: #bdbdbd;color:black"><i class="fa fa-users"></i>  Trust Comitee Members</td></tr>
                <tr>
                    <td colspan="6">
                        <table class="table table-bordered table-striped">
                            <thead>
                                <tr><th>Member Name</th><th>Is Primary</th></tr>
                            </thead>
                            <tbody>
                                @{
                                    if (trusteeMember != null)
                                    {

                                        foreach (var item in trusteeMember)
                                        {
                                            <tr><td>@item.sPrsnName</td><td>@((string.IsNullOrEmpty(item.iisprimary) || item.iisprimary=="0")?"No":"Yes" )</td></tr>
                                        }
                                    }
                                }
                            </tbody>
                        </table>
                    </td>
                </tr>

                <tr>
                    <th style="color:black!important;font-weight:500">College Name :</th>
                    <td>@draftAppl.CollegeName</td>
                    <td colspan="2"></td>
                    <th style="color:black!important;font-weight:500">Course</th>
                    <td>@draftAppl.CourseName</td>
                </tr>
                <tr><td colspan="6" style="background: #bdbdbd;color:black"><div style="display: flex;place-content: space-between;align-items:baseline"><span><i class="fa fa-arrow-down"></i> Application Forms</span><a href="@Url.Action("ApplicationPreview","Trustee")" class="btn btn-sm btn-primary"><i class="fa fa-eye"></i> Preview My Application</a></div></td></tr>
                @*<tr>
                        <td colspan="4">
                            <table class="table table-striped">
                                <tr><td> <a href="@Url.Action("Index", "LandBuildingInfo")" target="_blank"><i class="fa fa-plus"></i> Add Land and Building Information</a></td></tr>
                                <tr><td><a href="@Url.Action("CreateData","SubjectMaster")" target="_blank"><i class="fa fa-plus"></i> Add Subject Covered</a> </td></tr>
                                <tr><td><a href="@Url.Action("Index","FeeDetails")" target="_blank"><i class="fa fa-plus"></i> Add College Fee Structure</a></td></tr>
                                <tr><td><button onclick="GenerateArchtable('sdfd')"><i class="fa fa-plus"></i> Add Architectrual Details</button></td></tr>
                                <tr><td><a href="@Url.Action("CollageFacilitys","Trustee")" target="_blank"><i class="fa fa-plus"></i> Add Other Facilites</a></td></tr>
                                <tr><td><a href="@Url.Action("Index","Staff")" target="_blank"><i class="fa fa-plus"></i> Add Staff Details</a></td></tr>
                                <tr><td><a href="@Url.Action("Index","AcdmcMst")" target="_blank"><i class="fa fa-plus"></i> Add Acadmy Information</a></td></tr>
                                <tr><td><a href="@Url.Action("CollageAttachment","Trustee")" target="_blank"><i class="fa fa-plus"></i> Add Proof Document</a></td></tr>
                            </table>
                        </td>
                    </tr>*@
            </table>
            <div class="col-lg-12">
                <div class="row">

                    <div class="col-lg-3">
                        <ul style="margin-left: -50px;">
                            <li><button class="btn btn-outline-primary waves-effect waves-light applicationBtn" data-id="@Url.Action("Index", "LandBuildingInfo", new {guid=draftAppl.ApplGuid})"><i class="fa fa-landmark"></i> &nbsp;Land & Building Information</button></li>
                            <li><button class="btn btn-outline-primary waves-effect waves-light applicationBtn" data-id="@Url.Action("CreateData", "SubjectMaster", new {guid=draftAppl.ApplGuid})"><i class="fa fa-address-book"></i> &nbsp;Subject Covered</button></li>
                            <li><button class="btn btn-outline-primary waves-effect waves-light applicationBtn" data-id="@Url.Action("Index", "FeeDetails", new {guid=draftAppl.ApplGuid})"><i class="fa fa-file-contract"></i> &nbsp;College Fee Structure</button></li>
                            <li><button class="btn btn-outline-primary waves-effect waves-light applicationBtn" data-id="@Url.Action("NewArchitectureDetail", "Master", new {guid=draftAppl.ApplGuid})"><i class="fa fa-building"></i> &nbsp;Architectrual Details</button></li>
                            <li><button class="btn btn-outline-primary waves-effect waves-light applicationBtn" data-id="@Url.Action("CollageFacilitys", "Trustee", new {guid=draftAppl.ApplGuid})"><i class="fa fa-smile"></i> &nbsp;Other Facilites</button></li>
                            <li><button class="btn btn-outline-primary waves-effect waves-light applicationBtn" data-id="@Url.Action("Index", "Staff", new {guid=draftAppl.ApplGuid})"><i class="fa fa-users"></i> &nbsp;Staff Details</button></li>
                            <li><button class="btn btn-outline-primary waves-effect waves-light applicationBtn" data-id="@Url.Action("Index", "AcdmcMst", new {guid=draftAppl.ApplGuid})"><i class="fa fa-school"></i> &nbsp;Acadmy Information</button></li>
                            <li><button class="btn btn-outline-primary waves-effect waves-light applicationBtn" data-id="@Url.Action("CollageAttachment", "Trustee", new {guid=draftAppl.ApplGuid})"><i class="fa fa-address-card"></i> &nbsp;Proof Document</button></li>
                        </ul>

                    </div>

                    <div class="col-lg-9"  id="divFormContainer1" style="place-content: center;display: flex;align-items: center;">
                        <div id="divFormContainer">

                        </div>
                        <p style="font-size: 30px;color: red;" id="pNote">Please Select Any Form from the left side to fill</p>
                        <div id="divLoader" style="display:none"><span><i class="fa fa-4x fa-circle-notch fa-spin fa-fade" style="color: #506ee4;"></i></span></div>
                    </div>
                </div>
            </div>

        </div>
    </div>
</div>
@section scripts {
    <script src="~/plugins/dropify/js/dropify.min.js"></script>
    <script src="~/scripts/pages/jquery.form-upload.init.js"></script>
    @*<script src="~/Content/select2/js/select2.js"></script>*@
}
<script type="text/javascript">
    $(document).ready(function () {
        $('#btnToggal').click();

        $('.applicationBtn').click(function () {
             $('#divFormContainer').html('');
            $('#divFormContainer1').css('place-content','center').css('display','flex').css('align-items','center')
            $('#divLoader').css('display', 'block');
            $('#pNote').css('display', 'none');
            //$(this).removeClass('btn-outline-primary').addClass('btn-primary');
            $(this).css('background-color','#ffbf68').css('color','black');
            $(this).css('border-bottom-right-radius', '33px');

            var url = $(this).data('id');

            //console.log(url);
            setTimeout(function () {

                GenerateArchtable(url);
            }, 1000);
           /* $('#divLoader').css('display', 'none');*/
        });
    });




    function GenerateArchtable(url) {

        $.ajax({
            url: GetglobalDomain() + url,
            type: 'POST',
            dataType: "text",
            success: function (response) {
                //$('#divFormContainer').html('');
                $('#divFormContainer1').removeAttr("style");
                $('#divFormContainer').html(response);
                $('#divLoader').css('display', 'none');

                return;
                /*  $("#AddSection").html(response);*/
            }
        });
        return false;
    }
</script>