@using NewZapures_V2.Models
@model List<BENEFMST>
@{
    ViewBag.Title = "MoneyTransfer";
    Layout = "~/Views/Shared/_Layout.cshtml";

    var BeneList = (List<BO.Models.DMT_Beneficiary>)ViewBag.BaneficiaryList;
}

@section styles{-->  @*@Styles.Render("~/bundles/datatable");*@\
@*<link href="~/plugins/datatables/dataTables.bootstrap4.min.css" rel="stylesheet" type="text/css" />



*@
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
@*<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-confirm/3.3.2/jquery-confirm.min.css">*@
@*<link href="~/plugins/datatables/buttons.bootstrap4.min.css" rel="stylesheet" type="text/css" />*@
<link href="~/plugins/datatables/responsive.bootstrap4.min.css" rel="stylesheet" type="text/css" />
<link href="~/plugins/sweet-alert2/sweetalert2.min.css" rel="stylesheet" type="text/css">
<link href="~/plugins/animate/animate.css" rel="stylesheet" type="text/css">
<style>
    .margines {
        margin-top: 15px !important;
        margin-bottom: 15px !important;
    }
</style>
}
<div class="row">
    <div class="col-sm-12">
        <div class="page-title-box">

            <div class="float-right">

                <ol class="breadcrumb">


                    <li class="breadcrumb-item active">@ViewBag.Create</li>
                </ol>
            </div>
            <h4 class="page-title">Money Transfer</h4>
        </div><!--end page-title-box-->
    </div><!--end col-->
</div>
<div class="row" id="SecondShow">
    <input type="hidden" id="MobileNo" value="@ViewBag.MobileNo" />
    <div class="col-lg-2" style="
    margin-top: -20px !important;
">
        <nav class="navbar navbar-light">
            <div class="container-fluid">
                @*<button class="btn btn-primary col-lg-12 margines" id="BeneficiaryList" onclick="BeneficiaryList()"><i class="fa fa-list"></i> Beneficiary List</button>*@
                <a class="btn btn-primary col-lg-12 margines" id="AddBeneficiary" href="@Url.Action("Addbeneficiary", "Category", new { MobileNo = ViewBag.MobileNo })"><i class="fa fa-plus"> Add Beneficiary</i></a>
                @*<button class="btn btn-primary col-lg-12 margines" id="TransferMoney" onclick="TransferMoney()"><i class="fa fa-money-bill-alt"> Transfer Money</i></button>*@
                <a class="btn btn-primary col-lg-12 margines" id="TransactionList" href="@Url.Action("TransactionList", "Category", new { MobileNo = ViewBag.MobileNo })"><i class="fa fa-list"> Transaction List</i></a>
                <a class="btn btn-primary col-lg-12 margines" id="Login" href="@Url.Action("DMT", "Category")"><i class="fa fa-power-off"> Log off</i></a>
                @*<button class="btn btn-primary col-lg-12 margines" id="TransactionList" onclick="TransactionList()"><i class="fa fa-list"> Transaction List</i></button>*@

            </div>

        </nav>
    </div>
    <div class="col-lg-10" id="ShowUpdatediv">
        <div class="card">
            <div class="card-header">
                <h4 class="mt-0 header-title float-left">Money Transfer/Beneficiary List</h4>
            </div>
            <div class="card-body">
                <form class="form-parsley" action="#" autocomplete="off">
                    @*<table id="datatable-buttons" class="table table-striped table-bordered dt-responsive nowrap" style="border-collapse: collapse; border-spacing: 0; width: 100%;">*@

                    <table id="datatable-buttons" class="table table-striped " style="border-collapse: collapse; border-spacing: 0; width: 100%;">
                        <thead>

                            <tr>
                                <th>#No</th>
                                <th>Beneficiary Name</th>
                                <th>Beneficiary Mobile</th>
                                <th>Bank Name</th>
                                <th>Account No</th>
                                <th>IFSC</th>
                                <th>Active</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        <tbody>
                            @{
                                var i = 1;
                                foreach (var item in Model)
                                {
                                    <tr>
                                        <td>@i</td>
                                        <td>@item.sBenNam</td>
                                        <td>@item.sBenMob</td>
                                        <td>@item.sBenBankName</td>
                                        <td>@item.sBenActNo</td>
                                        <td>@item.sBenIfsc</td>
                                        <td>
                                            <div class="form-check form-switch">
                                                @{if (item.iIsAct == 1)
                                                    {
                                                        <input class="form-check-input ChangeStatus" type="checkbox" data-id="BENEFMST-@item.iPK_BenefId" name="@item.iPK_BenefId" value="@item.iIsAct" checked>
                                                    }
                                                    else
                                                    {
                                                        <input class="form-check-input ChangeStatus" type="checkbox" data-id="BENEFMST-@item.iPK_BenefId" name="@item.iPK_BenefId" value="@item.iIsAct">

                                                    }
                                                }
                                            </div>
                                        </td>
                                        <td>
                                            <a id="btnDeactive_@item.iPK_BenefId" class="Deleteclass" name="2" data-id="@item.iPK_BenefId" onclick="DeleteData(@item.iPK_BenefId)" title="Delete"><i class="fas fa-times text-danger font-16"></i></a>

                                            <a href="@Url.Action("TransferMoney", "Category", new { MobileNo=ViewBag.MobileNo,iPK_BenefId = item.iPK_BenefId })" class="Deleteclass" title="Transfer Money">
                                                <i class="fa fa-money-bill-alt font-16"></i>
                                            </a>
                                        </td>
                                    </tr>
                                }
                            }


                        </tbody>
                    </table>
                </form>
            </div>
        </div>

    </div>
</div>
@section Scripts {
    @*@Scripts.Render("~/bundles/datatablejs")*@
    <!--<script src="~/plugins/datatables/jquery.dataTables.min.js" type="text/javascript"></script>
    <script src="~/plugins/datatables/dataTables.bootstrap4.min.js" type="text/javascript"></script>
    <script src="~/plugins/datatables/dataTables.buttons.min.js" type="text/javascript"></script>
    <script src="~/plugins/datatables/buttons.bootstrap4.min.js" type="text/javascript"></script>
    <script src="~/plugins/datatables/jszip.min.js" type="text/javascript"></script>-->
    @*<script src="~/plugins/datatables/pdfmake.min.js" type="text/javascript"></script>*@
    <!--<script src="~/plugins/datatables/vfs_fonts.js" type="text/javascript"></script>
    <script src="~/plugins/datatables/buttons.html5.min.js" type="text/javascript"></script>
    <script src="~/plugins/datatables/buttons.print.min.js" type="text/javascript"></script>
    <script src="~/plugins/datatables/buttons.colVis.min.js" type="text/javascript"></script>
    <script src="~/plugins/datatables/dataTables.responsive.min.js" type="text/javascript"></script>

    <script src="~/scripts/pages/jquery.datatable.init.js" type="text/javascript"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-confirm/3.3.2/jquery-confirm.min.js"></script>-->
    <script src="~/plugins/datatables/responsive.bootstrap4.min.js" type="text/javascript"></script>
}
@*@section Scripts{
        <script type="text/javascript">
            var MobileNo = $("#MobileNo").val();
            $("#BeneficiaryList").click();

            function BeneficiaryList() {
                $.ajax({
                    url: '/AdminAjaxRequestPage/BeneficiaryList?MobileNo=' + MobileNo,
                    type: 'POST',
                    dataType: "text",
                    success: function (response) {
                        debugger;

                        $("#ShowUpdatediv").html(response);



                    }
                });
                return false;

            }
            function AddBeneficiary() {
                $.ajax({
                    url: '/Category/Addbeneficiary?MobileNo=' + MobileNo,
                    type: 'POST',
                    dataType: "text",
                    success: function (response) {
                        debugger;

                        $("#ShowUpdatediv").html(response);



                    }
                });
                return false;

            }
            function TransferMoney() {
                $.ajax({
                    url: '/AdminAjaxRequestPage/TransferMoney?MobileNo=' + MobileNo,
                    type: 'POST',
                    dataType: "text",
                    success: function (response) {
                        debugger;

                        $("#ShowUpdatediv").html(response);



                    }
                });
                return false;

            }
            function TransactionList() {
                $.ajax({
                    url: '/AdminAjaxRequestPage/TransactionList?MobileNo=' + MobileNo,
                    type: 'POST',
                    dataType: "text",
                    success: function (response) {
                        debugger;

                        $("#ShowUpdatediv").html(response);



                    }
                });
                return false;

            }
        </script>
    }*@

